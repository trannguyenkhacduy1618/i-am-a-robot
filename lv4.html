<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Level 4</title>
<link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="game">
  <h3>LEVEL 4 â€“ Memory</h3>
  <p>Ghi nhá»› chÃ­nh xÃ¡c thá»© tá»± robot Ä‘Ã£ lÆ°u</p>

  <p id="seq"></p>
  <button onclick="hide()">áº¨n</button>

  <div id="choices" style="display:none">
    <button onclick="pick('blue')">ðŸ”µ</button>
    <button onclick="pick('red')">ðŸ”´</button>
    <button onclick="pick('green')">ðŸŸ¢</button>
    <button onclick="pick('yellow')">ðŸŸ¡</button>
  </div>

  <div class="note">
    ðŸ¤– Robot chá»‰ nhá»› dá»¯ liá»‡u Ä‘Ã£ Ä‘Æ°á»£c ghi vÃ o bá»™ nhá»›.
  </div>
</div>

<script>
const colors = [
  { key: "blue", icon: "ðŸ”µ" },
  { key: "red", icon: "ðŸ”´" },
  { key: "green", icon: "ðŸŸ¢" },
  { key: "yellow", icon: "ðŸŸ¡" }
];

// Ä‘á»™ dÃ i chuá»—i ngáº«u nhiÃªn: 3â€“5
const length = Math.floor(Math.random() * 3) + 3;

// sinh chuá»—i bá»™ nhá»›
const answer = [];
for (let i = 0; i < length; i++) {
  answer.push(colors[Math.floor(Math.random() * colors.length)]);
}

// hiá»ƒn thá»‹ chuá»—i
document.getElementById("seq").innerText =
  answer.map(c => c.icon).join(" ");

let index = 0;

function hide() {
  document.getElementById("seq").innerText = "???";
  document.getElementById("choices").style.display = "block";
}

function pick(c) {
  if (c === answer[index].key) {
    index++;
    if (index === answer.length) {
      location.href = "lv5.html";
    }
  } else {
    alert("Sai. Robot khÃ´ng nhá»› nhÆ° con ngÆ°á»i.");
    reset();
  }
}

function reset() {
  index = 0;
  document.getElementById("choices").style.display = "none";
  document.getElementById("seq").innerText =
    answer.map(c => c.icon).join(" ");
}
</script>

</body>
</html>
